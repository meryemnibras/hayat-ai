import 'dotenv/config'
import { sendMessage, streamMessage } from '../lib/ai-chat'

async function testAI() {
  console.log('๐งช ุงุฎุชุจุงุฑ ูุธุงู AI ุงููุงูู\n')
  console.log('โโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n')
  
  // ุงุฎุชุจุงุฑ 1: ุณุคุงู ุจุณูุท
  console.log('๐ ุงุฎุชุจุงุฑ 1: ุณุคุงู ุจุณูุท')
  console.log('ุงููุณุชุฎุฏู: ูุฑุญุจุงูุ ูุง ุงุณู ุงูุนูุงุฏุฉุ')
  
  try {
    const response1 = await sendMessage('ูุฑุญุจุงูุ ูุง ุงุณู ุงูุนูุงุฏุฉุ')
    console.log('๐ค ุญูุงุฉ:', response1)
    console.log('\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n')
  } catch (error) {
    console.error('โ ูุดู ุงูุงุฎุชุจุงุฑ 1:', error)
  }
  
  // ุงุฎุชุจุงุฑ 2: ุณุคุงู ุนู ุงูุฃุณุนุงุฑ
  console.log('๐ ุงุฎุชุจุงุฑ 2: ุณุคุงู ุนู ุงูุฃุณุนุงุฑ')
  console.log('ุงููุณุชุฎุฏู: ูู ุณุนุฑ ุฒุฑุงุนุฉ ุงูุดุนุฑ ุจุชูููุฉ DHIุ')
  
  try {
    const response2 = await sendMessage('ูู ุณุนุฑ ุฒุฑุงุนุฉ ุงูุดุนุฑ ุจุชูููุฉ DHIุ')
    console.log('๐ค ุญูุงุฉ:', response2)
    console.log('\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n')
  } catch (error) {
    console.error('โ ูุดู ุงูุงุฎุชุจุงุฑ 2:', error)
  }
  
  // ุงุฎุชุจุงุฑ 3: ุณุคุงู ูุนูุฏ
  console.log('๐ ุงุฎุชุจุงุฑ 3: ุณุคุงู ูุนูุฏ')
  console.log('ุงููุณุชุฎุฏู: ุฃุฑูุฏ ุนูููุฉ ุฃูู ูุฃุณูุงู ูุนุงู. ูู ุงูุชูููุฉ ููู ุงููุฏุฉุ')
  
  try {
    const response3 = await sendMessage('ุฃุฑูุฏ ุนูููุฉ ุฃูู ูุฃุณูุงู ูุนุงู. ูู ุงูุชูููุฉ ููู ุงููุฏุฉุ')
    console.log('๐ค ุญูุงุฉ:', response3)
    console.log('\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n')
  } catch (error) {
    console.error('โ ูุดู ุงูุงุฎุชุจุงุฑ 3:', error)
  }
  
  // ุงุฎุชุจุงุฑ 4: Streaming
  console.log('๐ ุงุฎุชุจุงุฑ 4: ุงูุฑุฏูุฏ ุงููุชุฏููุฉ (Streaming)')
  console.log('ุงููุณุชุฎุฏู: ุงุดุฑุญ ูู ูุฑุงุญู ุงูุชุนุงูู ุจุนุฏ ุดูุท ุงูุฏููู')
  console.log('๐ค ุญูุงุฉ: ')
  
  try {
    for await (const chunk of streamMessage('ุงุดุฑุญ ูู ูุฑุงุญู ุงูุชุนุงูู ุจุนุฏ ุดูุท ุงูุฏููู')) {
      const text = typeof chunk === 'string' ? chunk : chunk.toString()
      process.stdout.write(text)
    }
    console.log('\n\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n')
  } catch (error) {
    console.error('โ ูุดู ุงูุงุฎุชุจุงุฑ 4:', error)
  }
  
  console.log('โ ุงูุชููุช ุฌููุน ุงูุงุฎุชุจุงุฑุงุช!')
}

testAI().catch(console.error)
